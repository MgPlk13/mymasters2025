<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>–ñ—É—Ä–Ω–∞–ª SQL-–∑–∞–ø–∏—Ç—ñ–≤</title>
    <style>
        body {
            font-family: sans-serif;
            padding: 20px;
            max-width: 1000px;
            margin: auto;
            background: #f8f8f8;
        }

        h1 { font-size: 24px; }

        .actions {
            margin-bottom: 20px;
        }

        a.button {
            display: inline-block;
            padding: 8px 16px;
            background: #007bff;
            color: white;
            border-radius: 4px;
            text-decoration: none;
            margin-right: 10px;
        }

        a.button:hover {
            background: #0056b3;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }

        th, td {
            padding: 10px;
            border: 1px solid #ccc;
            text-align: left;
            font-size: 14px;
        }

        th {
            background-color: #f0f0f0;
        }

        .danger { color: red; font-weight: bold; }
    </style>
</head>
<body>
    <h1>üìÑ –ñ—É—Ä–Ω–∞–ª –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∏—Ö SQL-–∑–∞–ø–∏—Ç—ñ–≤</h1>

    <div class="actions">
        <a class="button" href="/">‚Üê –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å</a>
        <a class="button" href="/logs/download">üì• –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</a>
        <a class="button" href="/logs/clear" onclick="return confirm('–û—á–∏—Å—Ç–∏—Ç–∏ –∂—É—Ä–Ω–∞–ª?');">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏</a>
    </div>

    <table>
        <thead>
            <tr>
                <th>–î–∞—Ç–∞</th>
                <th>–ü—Ä–∏—á–∏–Ω–∞</th>
                <th>–¢–∏–ø –∞—Ç–∞–∫–∏</th>
                <th>SQL-–∑–∞–ø–∏—Ç</th>
                <th>–û—Ü—ñ–Ω–∫–∞</th>
                <th>IP</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
            </tr>
        </thead>
        <tbody>
        {% for log in logs %}
            <tr>
                <td>{{ log.timestamp }}</td>
                <td>{{ log.reason }}</td>
                <td>{{ log.attack_type.code if log.attack_type else '-' }}</td>
                <td><code>{{ log.query }}</code></td>
                <td>{{ "%.2f"|format(log.score) if log.score is not none else "-" }}</td>
                <td>{{ log.source_ip }}</td>
                <td>{{ log.status }}</td>
            </tr>
        {% else %}
            <tr><td colspan="7">‚ö†Ô∏è –ñ—É—Ä–Ω–∞–ª –ø–æ—Ä–æ–∂–Ω—ñ–π</td></tr>
        {% endfor %}
        </tbody>
    </table>
</body>
</html>
